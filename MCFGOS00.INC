RESX            EQU 320
RESY            EQU 200
PAGESIZE        EQU RESX*RESY
PAGESIZEROUNDED EQU 10000h
SET_XMODE_MODE  EQU 1

CPU_REQ		EQU I386
EXT_REQ         EQU 0700000h
EXT_REQK        EQU 0C00h
; 3 MB = 0C00 KB = 0300000 B; 7 MB = 1C00 KB = 0700000 B
HMA_SIZ         EQU 0010000h
HMA_SIZK        EQU 00040h
EXT_START       EQU 0110000h

PIC0_IMR_OR     EQU 0
PIC1_IMR_OR     EQU 255
PIC0_IMR_AND    EQU 255-1-2-4
PIC1_IMR_AND    EQU 0

PIC0_ICW3_OMMIT EQU 0
PIC0_ICW4_OMMIT EQU 0
PIC0_ICW1       EQU 11h
PIC0_ICW3       EQU 04h
PIC0_ICW4       EQU 01h

PIC1_ICW3_OMMIT EQU 0
PIC1_ICW4_OMMIT EQU 0
PIC1_ICW1       EQU 11h
PIC1_ICW3       EQU 02h
PIC1_ICW4       EQU 01h

PIC0_OLD_IRQ_ADDR    EQU 008h
PIC0_NEW_IRQ_ADDR    EQU 008h

PIC1_OLD_IRQ_ADDR    EQU 070h
PIC1_NEW_IRQ_ADDR    EQU 070h

TIMER_VRT_STFREQ     EQU 100h
TIMER_VRT_ADDT       EQU 100h
TIMER_VRT_SUBHT      EQU 400h

cr              EQU 13
lf              EQU 10
c$              EQU '$'
c@              EQU 254
c_              EQU '-'
c?              EQU 19
c%              EQU 39

MMS_ALIGN_C0    EQU 16

HEAPMAXB        EQU 1024
HEAPHEADSIZE    EQU HEAPMAXB*8

STACK_SIZE      EQU 1024

BUFFER_SIZE     EQU 4096*4
BUFFER_SHIFT    EQU 14

KEYS_SIZE       EQU 256

KEY_BUFFER_SIZE     EQU 256
KEY_BUFFER_SHIFT    EQU 8

DFS_BUFFER_SIZE     EQU BUFFER_SIZE
DFS_BUFFER_SHIFT    EQU BUFFER_SHIFT

DFS_HANDLE_ALLOPEN  EQU 0FFFFh

DATAFILES_N         EQU 1
DATAFILE0_CNAME     EQU 'datafile'
DATAFILE0_DISP      EQU 0

MAX_ERROR_N         EQU 16

DFS_DOS_OPEN_CONST0 EQU 20h

VGA_BIOS_SAVE   EQU 3

KBD_RT_MODEIND  EQU 0
KBD_RT_TD       EQU 0
KBD_RT_TR_MAX   EQU 01Fh
KBD_RT_TRD      EQU 000h
KBD_DF_TR       EQU 00Bh
KBD_DF_TRD      EQU 02Bh

err_exit1       EQU 128
err_exit        EQU 64
err_askex       EQU 32
err_req         EQU 4
err_wrn         EQU 2
err_err         EQU 1

REQF_EXIT_GLOBAL EQU 128
REQF_PAUSE       EQU 64
REQF_EXIT_FADE   EQU 32
REQF_SYSTEM      EQU 16
REQF_EXIT_SYSTEM EQU 8
REQF_DISABLE_INPUT EQU 4
REQF_BLAST2VRAM  EQU 2
REQF_RECALC_VIEW EQU 1

RESOURCES_MOUSE  EQU 1

VRT_RF_FLIPPAGES EQU 128
VRT_RF_PF_GO     EQU 64
VRT_RF_PF_GOBACK EQU 32
VRT_RF_PF_RQBACK EQU 16

DAC_MASK        EQU 3Fh
COLORS          EQU (DAC_MASK+1)
PALF_RCOLORS    EQU 128
PALF_STEP0      EQU 2
PALF_STEPA0     EQU 1
PALF_STEPSYS0   EQU 4
PALF_WS0        EQU 0
PALF_WB0        EQU 10
PALF_NSTEPS0    EQU 16
PALF_NSTEPS_IC  EQU 4


VGA_C_DEFADDR   EQU VGA_CI_SADDRH
VGA_S_DEFADDR   EQU VGA_SI_MAPMSK

PAL_MAX_COLOR_SHADES EQU 10h
PAL_STD_COLOR_SHADES EQU PAL_MAX_COLOR_SHADES
PAL_MAX_COLOR_SHADES_LOG2 EQU 4
PAL_STD_COLOR_SHADES_LOG2 EQU PAL_MAX_COLOR_SHADES_LOG2

PAL_OVERSCAN_STD EQU 010h
PAL_OVERSCAN_XOR EQU 0EFh
PAL_COL_XOR_STD  EQU 0
PAL_FLG_INVINT  EQU 1
PAL_FLG_INVCOL  EQU 2
PAL_FLG_STD     EQU 0
PAL_INT_MAXTAB  EQU 0Fh
PAL_INT_MAX     EQU PAL_INT_MAXTAB
PAL_INT_STD     EQU ((PAL_INT_MAX-PAL_INT_MIN)/2)
PAL_INT_MIN     EQU 0
PAL_CON_MAXTAB  EQU 1
PAL_CON_MAX     EQU PAL_CON_MAXTAB
PAL_CON_STD     EQU ((PAL_CON_MAX-PAL_CON_MIN)/2)
PAL_CON_MIN     EQU 0
PAL_GAM_MAXTAB  EQU 1
PAL_GAM_MAX     EQU PAL_GAM_MAXTAB
PAL_GAM_STD     EQU ((PAL_GAM_MAX-PAL_GAM_MIN)/2)
PAL_GAM_MIN     EQU 0
PAL_IC_TT_STD   EQU ((offset pal_ic_tt)+(PAL_INT_STD*PAL_CON_MAXTAB+PAL_CON_STD)*PAL_MAX_COLOR_SHADES)

SINTAB_FILEID   EQU 0F0000000h
SINTAB_SIZE     EQU 08000h

PIC_IO_DELAY macro int_addr
                jmp     short $+2
;;                jcxz    short $+2
;;                jcxz    short $+2
endm

VGA_IO_DELAY macro int_addr
                jmp     short $+2
;;                jcxz    short $+2
;;                jcxz    short $+2
endm

GEN_IO_DELAY macro int_addr
                jmp     short $+2
;;                jcxz    short $+2
;;                jcxz    short $+2
endm
